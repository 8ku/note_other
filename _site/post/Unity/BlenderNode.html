<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- <link rel="stylesheet" href="/note_other/assets/css/syntax.css"> -->
    
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>note_other | 书籍以外的各种笔记</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="note_other" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="书籍以外的各种笔记" />
<meta property="og:description" content="书籍以外的各种笔记" />
<link rel="canonical" href="http://localhost:4000/note_other/post/Unity/BlenderNode.html" />
<meta property="og:url" content="http://localhost:4000/note_other/post/Unity/BlenderNode.html" />
<meta property="og:site_name" content="note_other" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="note_other" />
<script type="application/ld+json">
{"url":"http://localhost:4000/note_other/post/Unity/BlenderNode.html","headline":"note_other","description":"书籍以外的各种笔记","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <!-- 字体自适应放大 -->
    <link rel="stylesheet" href="/note_other/assets/css/style.css?v=abcebee436e3ff7eeb87eb5b08d3e596ca408ae1">
    <script src="/note_other/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- 显示页内目录 -->
    <!-- <script src="https://raw.githubusercontent.com/8ku/note_other/master/_js/jquery-3.5.1.min.js" type="text/javascript"></script> 
    <script src="https://raw.githubusercontent.com/8ku/note_other/master/_js/toc.js" type="text/javascript"></script> -->


	<!-- 显示数学公式 -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script> 

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

    <script type="text/javascript" src="/note_other/assets/js/search-box.js"></script>

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>

    <!-- Search box -->
            <div class="search">
                <i class="material-icons search-icon search-start">search</i>
                <input type="text" class="search-input" placeholder="Searching...（支持正则表达式）" />
                <i class="material-icons search-icon search-clear">clear</i>
                <div class="search-results"></div>
            </div>

    <div class="wrapper">
      <header>
        <h1 class="header"><a href="/note_other">note_other</a></h1>
        <p class="header">书籍以外的各种笔记</p>    
        <ul> 
          <li><a class="header name" href="https://8ku.github.io/note_other/search">Search</a></li>     	
        	<li><a class="header name" href="https://8ku.github.io/note_other/post/Code/summary">Code</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/post/Unity/summary">Unity</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/post/math/summary">Math</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/post/RegularExpression/summary">RegularExpression</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/post/system/summary">System</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/post/WomensHistory/summary">WomensHistory</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/post/mythology/summary">Mythology</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/post/GameHistory/summary">GameHistory</a></li>
        	<li><a class="header name" href="/note_other/post/Biology/summary">Biology</a></li>
        	<li><a class="header name" href="/note_other/post/Draw/summary">Draw</a></li>
        </ul>


        <!--<ul>
          
          <li><a class="buttons github" href="https://github.com/8ku/note_other">View On GitHub</a></li>
        </ul> 

        
          <p class="header">This project is maintained by <a class="header name" href="https://github.com/8ku">8ku</a></p>
        

         -->
      </header>

      <div id="toc"></div>
      <section>

        <head>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
      <script src="https://unpkg.com/mermaid@8.0.0/dist/mermaid.min.js"></script>
      <script>mermaid.initialize({startOnLoad:true});</script>
</head>
<h1 id="blender-node">Blender Node</h1>

<ul id="markdown-toc">
  <li><a href="#blender-node" id="markdown-toc-blender-node">Blender Node</a>    <ul>
      <li><a href="#themes" id="markdown-toc-themes">Themes</a>        <ul>
          <li><a href="#改变节点连接线的曲度" id="markdown-toc-改变节点连接线的曲度">改变节点连接线的曲度</a></li>
        </ul>
      </li>
      <li><a href="#animation-node" id="markdown-toc-animation-node">Animation Node</a>        <ul>
          <li><a href="#快捷键" id="markdown-toc-快捷键">快捷键</a></li>
          <li><a href="#技巧" id="markdown-toc-技巧">技巧</a></li>
        </ul>
      </li>
      <li><a href="#shader-node" id="markdown-toc-shader-node">Shader Node</a>        <ul>
          <li><a href="#fake-volumetirc-light-假体积光" id="markdown-toc-fake-volumetirc-light-假体积光">fake volumetirc light 假体积光</a></li>
          <li><a href="#emission" id="markdown-toc-emission">Emission</a></li>
          <li><a href="#background" id="markdown-toc-background">Background</a></li>
        </ul>
      </li>
      <li><a href="#texture-node" id="markdown-toc-texture-node">Texture Node</a>        <ul>
          <li><a href="#快捷键-1" id="markdown-toc-快捷键-1">快捷键</a></li>
          <li><a href="#基础知识" id="markdown-toc-基础知识">基础知识</a></li>
          <li><a href="#法线贴图最简步骤" id="markdown-toc-法线贴图最简步骤">法线贴图最简步骤</a></li>
          <li><a href="#蒙皮贴图要点" id="markdown-toc-蒙皮贴图要点">蒙皮贴图要点</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<h2 id="themes">Themes</h2>

<h3 id="改变节点连接线的曲度">改变节点连接线的曲度</h3>

<ul>
  <li>Edit -Preferences-Themes-Node Editor-Noodle Curving</li>
  <li>默认为0(直线), 增加节点即增加曲度</li>
</ul>

<h2 id="animation-node">Animation Node</h2>

<p>下载安装插件 <a href="https://animation-nodes.com/">Animation Node</a></p>

<ul>
  <li>**半透明节点表示 输入/输出 为list</li>
</ul>

<h3 id="快捷键">快捷键</h3>

<ul>
  <li>
    <p>调出node input output面板: u</p>
  </li>
  <li>
    <p>自动连接两个node: 选中要连接的node, f</p>
  </li>
  <li>
    <p>右侧菜单: n</p>
  </li>
  <li>
    <p>左侧菜单: t</p>
  </li>
  <li>
    <p>节点打组: ctrl/cmd+g</p>
  </li>
  <li>
    <p>进入/退出组编辑: tab</p>
  </li>
  <li>
    <p>debug: 在output添加 <code class="language-plaintext highlighter-rouge">viewer</code>节点</p>
  </li>
  <li>
    <p>切断连线: ctrl/cmd+right click</p>
  </li>
  <li>
    <p>组织nodes: 添加<code class="language-plaintext highlighter-rouge">frame</code>节点</p>
  </li>
  <li>
    <p>添加连线中点(把一对多的节点打结): shift+right click</p>

    <p><img src="BlenderNode.assets/iShot2021-01-15%2018.29.57.jpg" alt="iShot2021-01-15 18.29.57" /></p>
  </li>
  <li></li>
</ul>

<h3 id="技巧">技巧</h3>

<ul>
  <li>
    <p>节点打组后, 把需要调整的参数连接到<code class="language-plaintext highlighter-rouge">group  input</code>可以在组外调整</p>
  </li>
  <li>
    <p>记住初始transforms</p>

    <ul>
      <li>右侧菜单 - AN - <code class="language-plaintext highlighter-rouge">initial transforms - from current transforms</code></li>
      <li>在<code class="language-plaintext highlighter-rouge">animation nodes</code>中添加<code class="language-plaintext highlighter-rouge">object id key</code>, 选择object, 选择<code class="language-plaintext highlighter-rouge">initial transforms</code></li>
    </ul>
  </li>
  <li>
    <p>创建实例并应用modifier</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">object instancer</code></li>
      <li>勾选<code class="language-plaintext highlighter-rouge">copy full object</code></li>
    </ul>
  </li>
  <li>
    <p>创建矩阵</p>

    <ul>
      <li>创建实例 <code class="language-plaintext highlighter-rouge">object instancer</code></li>
      <li><code class="language-plaintext highlighter-rouge">matrix - distribute matrice</code>
        <ul>
          <li>查看矩阵分布形态, 添加 <code class="language-plaintext highlighter-rouge">3d viewer</code></li>
        </ul>
      </li>
      <li>添加<code class="language-plaintext highlighter-rouge">get list length</code>得到 matrices的数量</li>
      <li>把length连接到 <code class="language-plaintext highlighter-rouge">object instancer</code>上</li>
    </ul>

    <p><img src="BlenderNode.assets/iShot2021-01-15%2023.31.18(1).jpg" alt="iShot2021-01-15 23.31.18(1)" /></p>
    <ul>
      <li>
        <p>添加<code class="language-plaintext highlighter-rouge">offset vector</code> 和 <code class="language-plaintext highlighter-rouge">random falloff</code> 添加random</p>

        <p><img src="BlenderNode.assets/iShot2021-01-15%2023.56.26(1).jpg" alt="iShot2021-01-15 23.56.26(1)" /></p>
      </li>
    </ul>
  </li>
</ul>

<h2 id="shader-node">Shader Node</h2>

<h3 id="fake-volumetirc-light-假体积光">fake volumetirc light 假体积光</h3>

<ul>
  <li>创建一个平面, 命名为 EV</li>
  <li>创建一个空坐标对象, 命名为 G1_Control, 用于调节灯光照射距离</li>
  <li>创建另一个空球形对象, 命名为 G2_Control, 用于调研灯光直径</li>
  <li>在EV中添加节点<code class="language-plaintext highlighter-rouge">emission</code> <code class="language-plaintext highlighter-rouge">Gradient Texture</code> <code class="language-plaintext highlighter-rouge">ColorRamp</code></li>
  <li>在<code class="language-plaintext highlighter-rouge">Gradient Texture</code>上 Ctrl+t  添加 Mapping 和 Texture Coordinate(需要提前安装 Node Wrangler 插件 )</li>
  <li>把 Texture Coordinate, Mapping, Gradient Texture, ColorRamp打组(cmd+g), 命名为 H_V_Control
    <ul>
      <li>进入H_V_Control, 把<code class="language-plaintext highlighter-rouge">Texture Coordinate</code>和<code class="language-plaintext highlighter-rouge">Mapping</code>的连接改为使用<code class="language-plaintext highlighter-rouge">Object</code>, Object 选择G1_control</li>
      <li>ColorRamp 类型选为 B-Spine</li>
    </ul>
  </li>
  <li>复制一个H_V_Control, 重命名为 V_V_Control
    <ul>
      <li>进入V_V_Control, Object 选择G2_control</li>
      <li>Gradient Texture 选择Vector</li>
      <li>ColorRamp 按辐射的方式调整(中间纯白, 两边纯黑)</li>
    </ul>
  </li>
  <li>把H_V_Control和V_V_Control用Mix RGB连接, 命名为 Control Mix RGB</li>
  <li>Control Mix RGB 连接到Emission</li>
  <li>添加一个Transparent BSDF和一个Mix Shader</li>
  <li>把Transparent BSDF和Emission连接到Mix Shader</li>
  <li>把G1_control和G2_control作为FV的子对象</li>
  <li>添加Noise Texture, ctrl+t添加Mapping和Texture Coordinate</li>
  <li>添加一个空立方体对象, 命名为Noise Control, 添加到Noise的 Texture Object里, 控制Noise的移动</li>
  <li>复制一个Mix RGB, 把Noise Texture和Control Mix RGB连上去, 输出连接到Mix Shader的Fac里</li>
  <li>设置摄像机</li>
  <li>因为FV是2D的, 光也是2D, 需要让2D的面一直面向摄像机伪装成3D, 在EV的Object Constraint Properties里添加<code class="language-plaintext highlighter-rouge">Locked Track</code>, Target选择Camera, Track Axis 选择-Z, Locked Axis选择Y</li>
  <li>设置Noise动画
    <ul>
      <li>选择Noise Control, Location Z添加key</li>
      <li>20帧, Z移动到30m, 再点击key</li>
      <li>切换时间轴到Graph editor: ctrl+tab</li>
      <li>选择Z Location, 全选所有帧, 按 t 选择平滑度为线性</li>
      <li>添加Modifiers-Cycles, After选择Repeat with Offset</li>
    </ul>
  </li>
</ul>

<p><img src="BlenderNode.assets/Snipaste_2021-01-23_23-32-14(1).jpg" alt="Snipaste_2021-01-23_23-32-14(1)" /></p>

<h3 id="emission">Emission</h3>

<ul>
  <li>在Emission前添加 Blackbody 可以调色温</li>
  <li>要打开 Render Properties 里的 Bloom, 发光才会在渲染模式下可见</li>
</ul>

<h3 id="background">Background</h3>

<p>在World Properties里添加节点</p>

<h2 id="texture-node">Texture Node</h2>

<h3 id="快捷键-1">快捷键</h3>

<ul>
  <li>
    <p>预览: ctrl+shift+鼠标左键</p>
  </li>
  <li>
    <p>Texture Setup: ctrl+t</p>
  </li>
</ul>

<h3 id="基础知识">基础知识</h3>

<ul>
  <li><strong>置换贴图 Displacement Texture 凹凸贴图 bump Texture 法线贴图 Normal Texture</strong>
    <ul>
      <li><strong>置换贴图</strong>: 是通过批量修改顶点位置的方式实现物体表面真实的凹凸感, 会使用大量的内存渲染(最好不用…)
        <ul>
          <li>原物体细分必须足够多, 不然效果出不来</li>
          <li>在node中添加displacement节点后, 还需要在物体上应用displacement修改器,效果才能出来</li>
        </ul>
      </li>
      <li><strong>凹凸贴图</strong>: 是用一张黑白图做为高度模拟, 黑不变白凸起, 不会实质性影响物体表面的点面数, 改变光照角度时凹凸不会改变</li>
      <li><strong>法线贴图</strong>: 用于在低精模上表现高精模的纹理, 使用高精模bake
        <ul>
          <li>每个纹理像素的RGB值表示方向矢量的X Y Z值, 从而影响平面计算光照的方式</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="法线贴图最简步骤">法线贴图最简步骤</h3>

<p>制作一个简单的法线贴图的步骤:</p>

<ul>
  <li>在最终要体现法线贴图的物体添加材质, 新建一个img Texture并选中</li>
  <li>打开 UV 编辑器</li>
  <li>选中物体, 把渲染模式改为 Cycles ,模式选择Normal,  Bake</li>
  <li>可以在UV编辑器里看到结果</li>
  <li>把Texture连接到Normal节点</li>
  <li>在渲染模式下添加太阳光, 调整角度查看结果</li>
</ul>

<h3 id="蒙皮贴图要点">蒙皮贴图要点</h3>

<p>以 Brick 贴图为例:</p>

<ul>
  <li>修正贴图只有一面正常的情况:
    <ul>
      <li>给贴图添加<code class="language-plaintext highlighter-rouge">Texture Coordinate</code> UV连接到贴图的Vector</li>
    </ul>
  </li>
  <li>修正贴图过大的情况:
    <ul>
      <li>方法一: 进入编辑模式, U 调出UV菜单 选择 <code class="language-plaintext highlighter-rouge">Cube Projection</code>(根据蒙皮物体的形状)</li>
      <li>方法二: 在贴图前面加上Texture Coolrdinate + mapping , 调整 Mapping scale</li>
    </ul>
  </li>
  <li>添加Noise贴图后修正原表面颜色
    <ul>
      <li>在Noise贴图和Brick贴图间加上ColorRamp</li>
    </ul>
  </li>
  <li>使用置换添加凹凸感</li>
</ul>

<p><img src="/note_other/post/Unity/BlenderNode.assets/texture_node_brick.jpg" alt="texture_node_brick" /></p>

<p><img src="/note_other/post/Unity/BlenderNode.assets/texture_node_brick_result.jpg" alt="texture_node_brick_result" /></p>


      </section>


      <!-- <script type="text/javascript">
        $(document).ready(function() {
        $('#toc').toc();
        });
      </script> -->



      <footer>
      <p><small>BackTo <a href="https://8ku.github.io/note_other">Home</a>  |  To<a href="javascript:scroll(0,0)"> TOP</a></small></p>
      <!--  <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p> -->
      </footer>
    </div>



    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    

  </body>
</html>
