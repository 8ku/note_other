<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <link rel="stylesheet" href="/assets/css/syntax.css">
    
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>自定义 package | note_other</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="自定义 package" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="书籍以外的各种笔记" />
<meta property="og:description" content="书籍以外的各种笔记" />
<link rel="canonical" href="http://localhost:4000/Code/C_Sharp/Unity_C_Sharp/package.html" />
<meta property="og:url" content="http://localhost:4000/Code/C_Sharp/Unity_C_Sharp/package.html" />
<meta property="og:site_name" content="note_other" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="自定义 package" />
<script type="application/ld+json">
{"url":"http://localhost:4000/Code/C_Sharp/Unity_C_Sharp/package.html","description":"书籍以外的各种笔记","headline":"自定义 package","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <!-- 字体自适应放大 -->
    <link rel="stylesheet" href="/assets/css/style.css?v=159ef0d1a2b93c35559ace56016d4d2f8add2ad2">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- 显示页内目录 -->
    <!-- <script src="https://raw.githubusercontent.com/8ku/note_other/master/_js/jquery-3.5.1.min.js" type="text/javascript"></script> 
    <script src="https://raw.githubusercontent.com/8ku/note_other/master/_js/toc.js" type="text/javascript"></script> -->


	<!-- 显示数学公式 -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
    


    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">note_other</h1>
        <p class="header">书籍以外的各种笔记</p>


        <ul> 
               	
        	<li><a class="header name" href="https://8ku.github.io/note_other/Code/summary">Code</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/Unity/summary">Unity</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/math/summary">Math</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/RegularExpression/summary">RegularExpression</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/system/summary">System</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/WomensHistory/summary">WomensHistory</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/mythology/summary">Mythology</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/GameHistory/summary">GameHistory</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/Biology/summary">Biology</a></li>
        	<li><a class="header name" href="https://8ku.github.io/note_other/Draw/summary">Draw</a></li>

        </ul>

        <!--<ul>
          
          <li><a class="buttons github" href="https://github.com/8ku/note_other">View On GitHub</a></li>
        </ul> 

        
          <p class="header">This project is maintained by <a class="header name" href="https://github.com/8ku">8ku</a></p>
        

         -->
      </header>

      <div id="toc"></div>

      <section>

        <h1 id="自定义-package">自定义 package</h1>

<h2 id="menuitem">MenuItem</h2>

<p>MenuItem 把任何静态方法做到菜单命令中，只有静态方法才能使用 MenuItem 。</p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c1">// MenuItem 有三种构造方法</span>
<span class="k">public</span> <span class="nf">MenuItem</span><span class="p">(</span><span class="kt">string</span> <span class="n">itemName</span><span class="p">);</span>
<span class="c1">// isValidateFunction：是否是验证方法</span>
<span class="k">public</span> <span class="nf">MenuItem</span><span class="p">(</span><span class="kt">string</span> <span class="n">itemName</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isValidateFunction</span><span class="p">);</span>
<span class="c1">// priority：优先级，数值大的在下面，如果菜单项数字间隔太大，显示时会有分割线</span>
<span class="k">public</span> <span class="nf">MenuItem</span><span class="p">(</span><span class="kt">string</span> <span class="n">itemName</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isValidateFunction</span><span class="p">,</span> <span class="kt">int</span> <span class="n">priority</span><span class="p">);</span>

<span class="c1">//example</span>
<span class="p">[</span><span class="nf">MenuItem</span><span class="p">(</span><span class="s">"8ku/MenuName"</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="p">-</span><span class="m">10</span><span class="p">)]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="代码中指定快捷键">代码中指定快捷键</h3>

<p><code class="language-plaintext highlighter-rouge">UnityEditor</code> 中的 MenuItem 可设定自己的菜单，并为其指定快捷键。</p>

<table>
  <thead>
    <tr>
      <th>key</th>
      <th>macOS</th>
      <th>Windows</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>%</td>
      <td>cmd</td>
      <td>control</td>
    </tr>
    <tr>
      <td>#</td>
      <td>shift</td>
      <td>shift</td>
    </tr>
    <tr>
      <td>&amp;</td>
      <td>alt</td>
      <td>alt</td>
    </tr>
    <tr>
      <td>#LEFT/RIGHT/UP/DOWN</td>
      <td>left shift…</td>
      <td>left shift …</td>
    </tr>
    <tr>
      <td>HOME/END/PGUP/PGDN</td>
      <td>…</td>
      <td>…</td>
    </tr>
  </tbody>
</table>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="cp"># if UNITY_EDITOR
</span><span class="k">using</span> <span class="nn">UnityEditor</span><span class="p">;</span>
<span class="cp"># endif
</span>  
<span class="k">namespace</span> <span class="nn">Baku</span> 
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">ReuseMenuItems</span>
    <span class="p">{</span>
<span class="cp">#if UNITY_EDITOR 
</span>        <span class="p">[</span><span class="nf">MenuItem</span><span class="p">(</span><span class="s">"8ku/ReuseMenuItems %e"</span><span class="p">)]</span> <span class="c1">// “%e”表示 cmd + e 菜单项快捷键,快捷键必须和菜单名之间用空格分离</span>

        <span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">MenuClicked</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// 调用复制文件名的菜单命令，并打开文件夹</span>
            <span class="n">EditorApplication</span><span class="p">.</span><span class="nf">ExecuteMenuItem</span><span class="p">(</span><span class="s">"8ku/CopyPackageName"</span><span class="p">);</span>
            <span class="c1">// 要使用 combine, path.combine需要引用System.IO，../表示该目录的上级目录</span>
            <span class="n">Application</span><span class="p">.</span><span class="nf">OpenURL</span><span class="p">(</span><span class="s">"file:///"</span> <span class="p">+</span> <span class="n">Path</span><span class="p">.</span><span class="nf">Combine</span><span class="p">(</span><span class="n">Application</span><span class="p">.</span><span class="n">dataPath</span><span class="p">,</span> <span class="s">"../"</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="cp">#endif
</span><span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="exportpackage">ExportPackage</h2>

<p>用于以 unitypackage 的文件形式导出 assets 到指定目录下。</p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">AssetDatabase</span><span class="p">.</span><span class="nf">ExportPackage</span><span class="p">(</span><span class="n">assetPathName</span><span class="p">,</span> <span class="n">fileName</span><span class="p">,</span> <span class="n">ExportPackageOptions</span><span class="p">.</span><span class="n">Recurse</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ExportPackageOptions:</p>

<table>
  <thead>
    <tr>
      <th><a href="ExportPackageOptions.Default.html">Default</a></th>
      <th>Default mode. Will not include dependencies or subdirectories nor include Library assets unless specifically included in the asset list.</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="ExportPackageOptions.Interactive.html">Interactive</a></td>
      <td>The export operation will be run asynchronously and reveal the exported package file in a file browser window after the export is finished.</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="ExportPackageOptions.Recurse.html">Recurse</a></td>
      <td>Will recurse through any subdirectories listed and include all assets inside them.</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="ExportPackageOptions.IncludeDependencies.html">IncludeDependencies</a></td>
      <td>In addition to the assets paths listed, all dependent assets will be included as well.</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="ExportPackageOptions.IncludeLibraryAssets.html">IncludeLibraryAssets</a></td>
      <td>The exported package will include all library assets, ie. the project settings located in the Library folder of the project.</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="systemobsolete">System.Obsolete</h2>

<p>方法过时的标记，加上，之后调用该方法编译器会给出提示</p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="nf">Obsolete</span><span class="p">(</span><span class="s">"方法已过时,请使用xxx方法"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">functionName</span><span class="p">(){}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="partial-让类可以在调用时修改">Partial 让类可以在调用时修改</h2>

<p>会经常调用且需要个性化的类，可以在类名中增加 partial 字段，可以让类在被调用时可添加新方法，不影响原类模板。</p>

<p>不需要经常修改的类不需要加 partial 。</p>

<p>不需要从外部调用的可以设置为 private 。</p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">namespace</span> <span class="nn">Baku</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">ClassName</span>
  <span class="p">{</span>
    <span class="n">function</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>



      </section>


      <!-- <script type="text/javascript">
        $(document).ready(function() {
        $('#toc').toc();
        });
      </script> -->



      <footer>
      <p><small>BackTo <a href="https://8ku.github.io/note_other">Home</a>  |  To<a href="javascript:scroll(0,0)"> TOP</a></small></p>
      <!--  <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p> -->
      </footer>
    </div>



    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    

  </body>
</html>
